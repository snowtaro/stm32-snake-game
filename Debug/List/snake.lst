###############################################################################
#
# IAR ANSI C/C++ Compiler V8.22.1.15669/W32 for ARM       04/Dec/2025  20:53:12
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  C:\Users\pnu7\Desktop\project_test (2)\user\snake.c
#    Command line =  
#        -f C:\Users\pnu7\AppData\Local\Temp\EW73D2.tmp
#        ("C:\Users\pnu7\Desktop\project_test (2)\user\snake.c" -D
#        USE_STDPERIPH_DRIVER -D STM32F10X_CL -lC
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\List" -o
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj" --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M3 -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\INC\c\DLib_Config_Normal.h" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\Startup\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\src\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\libraries\LCD\" -Ol -I
#        "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\CMSIS\Core\Include\" -I "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =  
#        C:\Users\pnu7\Desktop\project_test (2)\Debug\List\snake.lst
#    Object file  =  C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj\snake.o
#
###############################################################################

C:\Users\pnu7\Desktop\project_test (2)\user\snake.c
      1          // snake.c
      2          #include <stdio.h>
      3          #include <stdlib.h>
      4          #include "snake.h"
      5          #include "button.h"
      6          

   \                                 In section .bss, align 4
      7          static Snake snake;
   \                     snake:
   \   00000000                      DS8 804

   \                                 In section .bss, align 4
      8          static Point food;
   \                     food:
   \   00000000                      DS8 8

   \                                 In section .bss, align 4
      9          static int direction;
   \                     direction:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     10          static int score;
   \                     score:
   \   00000000                      DS8 4
     11          
     12          // @@@?@@ ?@@ ?@@

   \                                 In section .text, align 2, keep-with-next
     13          static void generate_food(void)
     14          {
   \                     generate_food: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     15              // @@@?@@???@@?@? ?@@ (1 ~ BOARD_WIDTH-2, 1 ~ BOARD_HEIGHT-2)
     16              food.x = rand() % (BOARD_WIDTH - 2) + 1;
   \   00000002   0x.... 0x....      BL       rand
   \   00000006   0x2112             MOVS     R1,#+18
   \   00000008   0xFB90 0xF2F1      SDIV     R2,R0,R1
   \   0000000C   0xFB01 0x0012      MLS      R0,R1,R2,R0
   \   00000010   0x1C40             ADDS     R0,R0,#+1
   \   00000012   0x....             LDR.N    R1,??DataTable7
   \   00000014   0x6008             STR      R0,[R1, #+0]
     17              food.y = rand() % (BOARD_HEIGHT - 2) + 1;
   \   00000016   0x.... 0x....      BL       rand
   \   0000001A   0x2112             MOVS     R1,#+18
   \   0000001C   0xFB90 0xF2F1      SDIV     R2,R0,R1
   \   00000020   0xFB01 0x0012      MLS      R0,R1,R2,R0
   \   00000024   0x1C40             ADDS     R0,R0,#+1
   \   00000026   0x....             LDR.N    R1,??DataTable7
   \   00000028   0x6048             STR      R0,[R1, #+4]
     18          }
   \   0000002A   0xBD01             POP      {R0,PC}          ;; return
     19          
     20          // @@@ ?@@ ??@@@?

   \                                 In section .text, align 2, keep-with-next
     21          void snake_setup(void)
     22          {
   \                     snake_setup: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
     23              snake.length = 3;
   \   00000002   0x2003             MOVS     R0,#+3
   \   00000004   0x....             LDR.N    R1,??DataTable7_1
   \   00000006   0xF8C1 0x0320      STR      R0,[R1, #+800]
     24              direction = KEY_RIGHT;
   \   0000000A   0x2004             MOVS     R0,#+4
   \   0000000C   0x....             LDR.N    R1,??DataTable7_2
   \   0000000E   0x6008             STR      R0,[R1, #+0]
     25          
     26              int startX = BOARD_WIDTH / 2;
   \   00000010   0x200A             MOVS     R0,#+10
     27              int startY = BOARD_HEIGHT / 2;
   \   00000012   0x210A             MOVS     R1,#+10
     28          
     29              for (int i = 0; i < snake.length; i++) {
   \   00000014   0x2200             MOVS     R2,#+0
   \   00000016   0xE008             B.N      ??snake_setup_0
     30                  snake.body[i].x = startX - i;
   \                     ??snake_setup_1: (+1)
   \   00000018   0x1A83             SUBS     R3,R0,R2
   \   0000001A   0x....             LDR.N    R4,??DataTable7_1
   \   0000001C   0xF844 0x3032      STR      R3,[R4, R2, LSL #+3]
     31                  snake.body[i].y = startY;
   \   00000020   0x....             LDR.N    R3,??DataTable7_1
   \   00000022   0xEB03 0x03C2      ADD      R3,R3,R2, LSL #+3
   \   00000026   0x6059             STR      R1,[R3, #+4]
     32              }
   \   00000028   0x1C52             ADDS     R2,R2,#+1
   \                     ??snake_setup_0: (+1)
   \   0000002A   0x....             LDR.N    R3,??DataTable7_1
   \   0000002C   0xF8D3 0x3320      LDR      R3,[R3, #+800]
   \   00000030   0x429A             CMP      R2,R3
   \   00000032   0xDBF1             BLT.N    ??snake_setup_1
     33          
     34              score = 0;
   \   00000034   0x2000             MOVS     R0,#+0
   \   00000036   0x....             LDR.N    R1,??DataTable7_3
   \   00000038   0x6008             STR      R0,[R1, #+0]
     35              generate_food();
   \   0000003A   0x.... 0x....      BL       generate_food
     36          }
   \   0000003E   0xBD10             POP      {R4,PC}          ;; return
     37          
     38          // @@@ @@@ @??@@ ?@@?@@

   \                                 In section .text, align 2, keep-with-next
     39          void snake_update(void)
     40          {
   \                     snake_update: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
     41              // ?@@ @@@ ?@@
     42              Point head = snake.body[0];
   \   00000002   0x....             LDR.N    R0,??DataTable7_1
   \   00000004   0xE9D0 0x4500      LDRD     R4,R5,[R0, #+0]
     43              Point newHead = head;
     44          
     45              // @@@???@@ ?@@
     46              switch (direction)
   \   00000008   0x....             LDR.N    R0,??DataTable7_2
   \   0000000A   0x6800             LDR      R0,[R0, #+0]
   \   0000000C   0x2801             CMP      R0,#+1
   \   0000000E   0xD006             BEQ.N    ??snake_update_0
   \   00000010   0xD315             BCC.N    ??snake_update_1
   \   00000012   0x2803             CMP      R0,#+3
   \   00000014   0xD00B             BEQ.N    ??snake_update_2
   \   00000016   0xD306             BCC.N    ??snake_update_3
   \   00000018   0x2804             CMP      R0,#+4
   \   0000001A   0xD00C             BEQ.N    ??snake_update_4
   \   0000001C   0xE00F             B.N      ??snake_update_1
     47              {
     48                  case KEY_UP:    newHead.y -= 1; break;
   \                     ??snake_update_0: (+1)
   \   0000001E   0x0028             MOVS     R0,R5
   \   00000020   0x1E40             SUBS     R0,R0,#+1
   \   00000022   0x0005             MOVS     R5,R0
   \   00000024   0xE00B             B.N      ??snake_update_5
     49                  case KEY_DOWN:  newHead.y += 1; break;
   \                     ??snake_update_3: (+1)
   \   00000026   0x0028             MOVS     R0,R5
   \   00000028   0x1C40             ADDS     R0,R0,#+1
   \   0000002A   0x0005             MOVS     R5,R0
   \   0000002C   0xE007             B.N      ??snake_update_5
     50                  case KEY_LEFT:  newHead.x -= 1; break;
   \                     ??snake_update_2: (+1)
   \   0000002E   0x0020             MOVS     R0,R4
   \   00000030   0x1E40             SUBS     R0,R0,#+1
   \   00000032   0x0004             MOVS     R4,R0
   \   00000034   0xE003             B.N      ??snake_update_5
     51                  case KEY_RIGHT: newHead.x += 1; break;
   \                     ??snake_update_4: (+1)
   \   00000036   0x0020             MOVS     R0,R4
   \   00000038   0x1C40             ADDS     R0,R0,#+1
   \   0000003A   0x0004             MOVS     R4,R0
   \   0000003C   0xE7FF             B.N      ??snake_update_5
     52                  default: break;
     53              }
     54          
     55              // @?@@@ @@@
     56              if (newHead.x < 0 || newHead.x >= BOARD_WIDTH ||
     57                  newHead.y < 0 || newHead.y >= BOARD_HEIGHT)
   \                     ??snake_update_1: (+1)
   \                     ??snake_update_5: (+1)
   \   0000003E   0x0020             MOVS     R0,R4
   \   00000040   0x1E00             SUBS     R0,R0,#+0
   \   00000042   0x2814             CMP      R0,#+20
   \   00000044   0xD203             BCS.N    ??snake_update_6
   \   00000046   0x0028             MOVS     R0,R5
   \   00000048   0x1E00             SUBS     R0,R0,#+0
   \   0000004A   0x2814             CMP      R0,#+20
   \   0000004C   0xD302             BCC.N    ??snake_update_7
     58              {
     59                  // GAME OVER ???@@ ?@@
     60                  snake_setup();
   \                     ??snake_update_6: (+1)
   \   0000004E   0x.... 0x....      BL       snake_setup
     61                  return;
   \   00000052   0xE061             B.N      ??snake_update_8
     62              }
     63          
     64              // ?@@@?@@@ @@@
     65              for (int i = 0; i < snake.length; i++) {
   \                     ??snake_update_7: (+1)
   \   00000054   0x2000             MOVS     R0,#+0
   \   00000056   0xE000             B.N      ??snake_update_9
   \                     ??snake_update_10: (+1)
   \   00000058   0x1C40             ADDS     R0,R0,#+1
   \                     ??snake_update_9: (+1)
   \   0000005A   0x....             LDR.N    R1,??DataTable7_1
   \   0000005C   0xF8D1 0x1320      LDR      R1,[R1, #+800]
   \   00000060   0x4288             CMP      R0,R1
   \   00000062   0xDA0F             BGE.N    ??snake_update_11
     66                  if (snake.body[i].x == newHead.x &&
     67                      snake.body[i].y == newHead.y)
   \   00000064   0x....             LDR.N    R1,??DataTable7_1
   \   00000066   0xF851 0x1030      LDR      R1,[R1, R0, LSL #+3]
   \   0000006A   0x0022             MOVS     R2,R4
   \   0000006C   0x4291             CMP      R1,R2
   \   0000006E   0xD1F3             BNE.N    ??snake_update_10
   \   00000070   0x....             LDR.N    R1,??DataTable7_1
   \   00000072   0xEB01 0x01C0      ADD      R1,R1,R0, LSL #+3
   \   00000076   0x6849             LDR      R1,[R1, #+4]
   \   00000078   0x002A             MOVS     R2,R5
   \   0000007A   0x4291             CMP      R1,R2
   \   0000007C   0xD1EC             BNE.N    ??snake_update_10
     68                  {
     69                      // GAME OVER ???@@ ?@@
     70                      snake_setup();
   \   0000007E   0x.... 0x....      BL       snake_setup
     71                      return;
   \   00000082   0xE049             B.N      ??snake_update_8
     72                  }
     73              }
     74          
     75              // @@@ @@@ ?@?
     76              int ateFood = (newHead.x == food.x && newHead.y == food.y);
   \                     ??snake_update_11: (+1)
   \   00000084   0x0020             MOVS     R0,R4
   \   00000086   0x....             LDR.N    R1,??DataTable7
   \   00000088   0x6809             LDR      R1,[R1, #+0]
   \   0000008A   0x4288             CMP      R0,R1
   \   0000008C   0xD106             BNE.N    ??snake_update_12
   \   0000008E   0x0028             MOVS     R0,R5
   \   00000090   0x....             LDR.N    R1,??DataTable7
   \   00000092   0x6849             LDR      R1,[R1, #+4]
   \   00000094   0x4288             CMP      R0,R1
   \   00000096   0xD101             BNE.N    ??snake_update_12
   \   00000098   0x2001             MOVS     R0,#+1
   \   0000009A   0xE000             B.N      ??snake_update_13
   \                     ??snake_update_12: (+1)
   \   0000009C   0x2000             MOVS     R0,#+0
     77          
     78              // @@@ ?@@ (?@@?@????@@@??@?)
     79              for (int i = snake.length - 1; i > 0; i--) {
   \                     ??snake_update_13: (+1)
   \   0000009E   0x....             LDR.N    R1,??DataTable7_1
   \   000000A0   0xF8D1 0x1320      LDR      R1,[R1, #+800]
   \   000000A4   0x1E49             SUBS     R1,R1,#+1
   \   000000A6   0xE00C             B.N      ??snake_update_14
     80                  snake.body[i] = snake.body[i - 1];
   \                     ??snake_update_15: (+1)
   \   000000A8   0x....             LDR.N    R2,??DataTable7_1
   \   000000AA   0xEB02 0x02C1      ADD      R2,R2,R1, LSL #+3
   \   000000AE   0xF1B2 0x0608      SUBS     R6,R2,#+8
   \   000000B2   0xE9D6 0x2300      LDRD     R2,R3,[R6, #+0]
   \   000000B6   0x....             LDR.N    R6,??DataTable7_1
   \   000000B8   0xEB06 0x06C1      ADD      R6,R6,R1, LSL #+3
   \   000000BC   0xE9C6 0x2300      STRD     R2,R3,[R6, #+0]
     81              }
   \   000000C0   0x1E49             SUBS     R1,R1,#+1
   \                     ??snake_update_14: (+1)
   \   000000C2   0x2901             CMP      R1,#+1
   \   000000C4   0xDAF0             BGE.N    ??snake_update_15
     82          
     83              // @@@ @@@
     84              snake.body[0] = newHead;
   \   000000C6   0x....             LDR.N    R1,??DataTable7_1
   \   000000C8   0xE9C1 0x4500      STRD     R4,R5,[R1, #+0]
     85          
     86              // @@@@?@@@?@@ @@@ @@?
     87              if (ateFood) {
   \   000000CC   0x2800             CMP      R0,#+0
   \   000000CE   0xD023             BEQ.N    ??snake_update_16
     88                  if (snake.length < MAX_SNAKE_SIZE) {
   \   000000D0   0x....             LDR.N    R0,??DataTable7_1
   \   000000D2   0xF8D0 0x0320      LDR      R0,[R0, #+800]
   \   000000D6   0x2864             CMP      R0,#+100
   \   000000D8   0xDA17             BGE.N    ??snake_update_17
     89                      snake.body[snake.length] = snake.body[snake.length - 1];
   \   000000DA   0x....             LDR.N    R0,??DataTable7_1
   \   000000DC   0x....             LDR.N    R1,??DataTable7_1
   \   000000DE   0xF8D1 0x1320      LDR      R1,[R1, #+800]
   \   000000E2   0xEB00 0x00C1      ADD      R0,R0,R1, LSL #+3
   \   000000E6   0x3808             SUBS     R0,R0,#+8
   \   000000E8   0xE9D0 0x2300      LDRD     R2,R3,[R0, #+0]
   \   000000EC   0x....             LDR.N    R0,??DataTable7_1
   \   000000EE   0x....             LDR.N    R1,??DataTable7_1
   \   000000F0   0xF8D1 0x1320      LDR      R1,[R1, #+800]
   \   000000F4   0xEB00 0x00C1      ADD      R0,R0,R1, LSL #+3
   \   000000F8   0xE9C0 0x2300      STRD     R2,R3,[R0, #+0]
     90                      snake.length++;
   \   000000FC   0x....             LDR.N    R0,??DataTable7_1
   \   000000FE   0xF8D0 0x0320      LDR      R0,[R0, #+800]
   \   00000102   0x1C40             ADDS     R0,R0,#+1
   \   00000104   0x....             LDR.N    R1,??DataTable7_1
   \   00000106   0xF8C1 0x0320      STR      R0,[R1, #+800]
     91                  }
     92                  score++;
   \                     ??snake_update_17: (+1)
   \   0000010A   0x....             LDR.N    R0,??DataTable7_3
   \   0000010C   0x6800             LDR      R0,[R0, #+0]
   \   0000010E   0x1C40             ADDS     R0,R0,#+1
   \   00000110   0x....             LDR.N    R1,??DataTable7_3
   \   00000112   0x6008             STR      R0,[R1, #+0]
     93                  generate_food();
   \   00000114   0x.... 0x....      BL       generate_food
     94              }
     95          }
   \                     ??snake_update_16: (+1)
   \                     ??snake_update_8: (+1)
   \   00000118   0xBD70             POP      {R4-R6,PC}       ;; return
     96          

   \                                 In section .text, align 2, keep-with-next
     97          void snake_set_direction(int newDir)
     98          {
     99              // @@? @@@?@@??@??@@ @@@
    100              if ((direction == KEY_UP    && newDir == KEY_DOWN) ||
    101                  (direction == KEY_DOWN  && newDir == KEY_UP)   ||
    102                  (direction == KEY_LEFT  && newDir == KEY_RIGHT)||
    103                  (direction == KEY_RIGHT && newDir == KEY_LEFT))
   \                     snake_set_direction: (+1)
   \   00000000   0x....             LDR.N    R1,??DataTable7_2
   \   00000002   0x6809             LDR      R1,[R1, #+0]
   \   00000004   0x2901             CMP      R1,#+1
   \   00000006   0xD101             BNE.N    ??snake_set_direction_0
   \   00000008   0x2802             CMP      R0,#+2
   \   0000000A   0xD011             BEQ.N    ??snake_set_direction_1
   \                     ??snake_set_direction_0: (+1)
   \   0000000C   0x....             LDR.N    R1,??DataTable7_2
   \   0000000E   0x6809             LDR      R1,[R1, #+0]
   \   00000010   0x2902             CMP      R1,#+2
   \   00000012   0xD101             BNE.N    ??snake_set_direction_2
   \   00000014   0x2801             CMP      R0,#+1
   \   00000016   0xD00B             BEQ.N    ??snake_set_direction_1
   \                     ??snake_set_direction_2: (+1)
   \   00000018   0x....             LDR.N    R1,??DataTable7_2
   \   0000001A   0x6809             LDR      R1,[R1, #+0]
   \   0000001C   0x2903             CMP      R1,#+3
   \   0000001E   0xD101             BNE.N    ??snake_set_direction_3
   \   00000020   0x2804             CMP      R0,#+4
   \   00000022   0xD005             BEQ.N    ??snake_set_direction_1
   \                     ??snake_set_direction_3: (+1)
   \   00000024   0x....             LDR.N    R1,??DataTable7_2
   \   00000026   0x6809             LDR      R1,[R1, #+0]
   \   00000028   0x2904             CMP      R1,#+4
   \   0000002A   0xD102             BNE.N    ??snake_set_direction_4
   \   0000002C   0x2803             CMP      R0,#+3
   \   0000002E   0xD100             BNE.N    ??snake_set_direction_4
    104              {
    105                  return; // @@? @@@ @@@
   \                     ??snake_set_direction_1: (+1)
   \   00000030   0xE001             B.N      ??snake_set_direction_5
    106              }
    107              direction = newDir;
   \                     ??snake_set_direction_4: (+1)
   \   00000032   0x....             LDR.N    R1,??DataTable7_2
   \   00000034   0x6008             STR      R0,[R1, #+0]
    108          }
   \                     ??snake_set_direction_5: (+1)
   \   00000036   0x4770             BX       LR               ;; return
    109          

   \                                 In section .text, align 2, keep-with-next
    110          Snake* snake_get(void)
    111          {
    112              return &snake;
   \                     snake_get: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable7_1
   \   00000002   0x4770             BX       LR               ;; return
    113          }
    114          

   \                                 In section .text, align 2, keep-with-next
    115          Point* snake_get_food(void)
    116          {
    117              return &food;
   \                     snake_get_food: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable7
   \   00000002   0x4770             BX       LR               ;; return
    118          }
    119          

   \                                 In section .text, align 2, keep-with-next
    120          int snake_get_score(void)
    121          {
    122              return score;
   \                     snake_get_score: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable7_3
   \   00000002   0x6800             LDR      R0,[R0, #+0]
   \   00000004   0x4770             BX       LR               ;; return
    123          }
    124          
    125          // ?@@?@@ ?@@@?char @@@?@@ @€?
    126          // @?@? ' '
    127          // @€ @@@: 'O', @@@: 'o'
    128          // @@@: '*'

   \                                 In section .text, align 2, keep-with-next
    129          void snake_to_grid(char grid[BOARD_HEIGHT][BOARD_WIDTH])
    130          {
   \                     snake_to_grid: (+1)
   \   00000000   0xB470             PUSH     {R4-R6}
   \   00000002   0x0001             MOVS     R1,R0
    131              // 1) ?@@@?@@@?@@ @@@?
    132              for (int y = 0; y < BOARD_HEIGHT; y++) {
   \   00000004   0x2000             MOVS     R0,#+0
   \   00000006   0xE009             B.N      ??snake_to_grid_0
    133                  for (int x = 0; x < BOARD_WIDTH; x++) {
    134                      grid[y][x] = ' ';
   \                     ??snake_to_grid_1: (+1)
   \   00000008   0x2320             MOVS     R3,#+32
   \   0000000A   0x2414             MOVS     R4,#+20
   \   0000000C   0xFB04 0xF400      MUL      R4,R4,R0
   \   00000010   0x440C             ADD      R4,R1,R4
   \   00000012   0x54A3             STRB     R3,[R4, R2]
    135                  }
   \   00000014   0x1C52             ADDS     R2,R2,#+1
   \                     ??snake_to_grid_2: (+1)
   \   00000016   0x2A14             CMP      R2,#+20
   \   00000018   0xDBF6             BLT.N    ??snake_to_grid_1
   \   0000001A   0x1C40             ADDS     R0,R0,#+1
   \                     ??snake_to_grid_0: (+1)
   \   0000001C   0x2814             CMP      R0,#+20
   \   0000001E   0xDA01             BGE.N    ??snake_to_grid_3
   \   00000020   0x2200             MOVS     R2,#+0
   \   00000022   0xE7F8             B.N      ??snake_to_grid_2
    136              }
    137          
    138              // 2) @@@ ?@@
    139              if (food.x >= 0 && food.x < BOARD_WIDTH &&
    140                  food.y >= 0 && food.y < BOARD_HEIGHT)
   \                     ??snake_to_grid_3: (+1)
   \   00000024   0x....             LDR.N    R0,??DataTable7
   \   00000026   0x6800             LDR      R0,[R0, #+0]
   \   00000028   0x1E00             SUBS     R0,R0,#+0
   \   0000002A   0x2814             CMP      R0,#+20
   \   0000002C   0xD20E             BCS.N    ??snake_to_grid_4
   \   0000002E   0x....             LDR.N    R0,??DataTable7
   \   00000030   0x6840             LDR      R0,[R0, #+4]
   \   00000032   0x1E00             SUBS     R0,R0,#+0
   \   00000034   0x2814             CMP      R0,#+20
   \   00000036   0xD209             BCS.N    ??snake_to_grid_4
    141              {
    142                  grid[food.y][food.x] = '*';
   \   00000038   0x....             LDR.N    R0,??DataTable7
   \   0000003A   0x6842             LDR      R2,[R0, #+4]
   \   0000003C   0x2014             MOVS     R0,#+20
   \   0000003E   0x4342             MULS     R2,R0,R2
   \   00000040   0xEB01 0x0002      ADD      R0,R1,R2
   \   00000044   0x....             LDR.N    R2,??DataTable7
   \   00000046   0x6812             LDR      R2,[R2, #+0]
   \   00000048   0x232A             MOVS     R3,#+42
   \   0000004A   0x5483             STRB     R3,[R0, R2]
    143              }
    144          
    145              // 3) @€ ?@@ (@@@/@@@)
    146              for (int i = snake.length - 1; i >= 0; i--) {
   \                     ??snake_to_grid_4: (+1)
   \   0000004C   0x....             LDR.N    R0,??DataTable7_1
   \   0000004E   0xF8D0 0x0320      LDR      R0,[R0, #+800]
   \   00000052   0x1E40             SUBS     R0,R0,#+1
   \   00000054   0xE011             B.N      ??snake_to_grid_5
    147                  Point p = snake.body[i];
    148                  if (p.x < 0 || p.x >= BOARD_WIDTH ||
    149                      p.y < 0 || p.y >= BOARD_HEIGHT) {
    150                      continue;   // @@@??@@@
    151                  }
    152                  if (i == 0) {
    153                      grid[p.y][p.x] = 'O'; // @@@
    154                  } else {
    155                      grid[p.y][p.x] = 'o'; // @@@
   \                     ??snake_to_grid_6: (+1)
   \   00000056   0x236F             MOVS     R3,#+111
   \   00000058   0x002E             MOVS     R6,R5
   \   0000005A   0x2214             MOVS     R2,#+20
   \   0000005C   0x4356             MULS     R6,R2,R6
   \   0000005E   0xEB01 0x0206      ADD      R2,R1,R6
   \   00000062   0x5513             STRB     R3,[R2, R4]
   \   00000064   0xE008             B.N      ??snake_to_grid_7
    156                  }
   \                     ??snake_to_grid_8: (+1)
   \   00000066   0x2800             CMP      R0,#+0
   \   00000068   0xD1F5             BNE.N    ??snake_to_grid_6
   \   0000006A   0x234F             MOVS     R3,#+79
   \   0000006C   0x002E             MOVS     R6,R5
   \   0000006E   0x2214             MOVS     R2,#+20
   \   00000070   0x4356             MULS     R6,R2,R6
   \   00000072   0xEB01 0x0206      ADD      R2,R1,R6
   \   00000076   0x5513             STRB     R3,[R2, R4]
   \                     ??snake_to_grid_7: (+1)
   \   00000078   0x1E40             SUBS     R0,R0,#+1
   \                     ??snake_to_grid_5: (+1)
   \   0000007A   0x2800             CMP      R0,#+0
   \   0000007C   0xD40D             BMI.N    ??snake_to_grid_9
   \   0000007E   0x....             LDR.N    R2,??DataTable7_1
   \   00000080   0xEB02 0x02C0      ADD      R2,R2,R0, LSL #+3
   \   00000084   0xE9D2 0x4500      LDRD     R4,R5,[R2, #+0]
   \   00000088   0x0022             MOVS     R2,R4
   \   0000008A   0x1E12             SUBS     R2,R2,#+0
   \   0000008C   0x2A14             CMP      R2,#+20
   \   0000008E   0xD203             BCS.N    ??snake_to_grid_10
   \   00000090   0x002A             MOVS     R2,R5
   \   00000092   0x1E12             SUBS     R2,R2,#+0
   \   00000094   0x2A14             CMP      R2,#+20
   \   00000096   0xD3E6             BCC.N    ??snake_to_grid_8
   \                     ??snake_to_grid_10: (+1)
   \   00000098   0xE7EE             B.N      ??snake_to_grid_7
    157              }
    158          }
   \                     ??snake_to_grid_9: (+1)
   \   0000009A   0xBC70             POP      {R4-R6}
   \   0000009C   0x4770             BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   0x........         DC32     food

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_1:
   \   00000000   0x........         DC32     snake

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_2:
   \   00000000   0x........         DC32     direction

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_3:
   \   00000000   0x........         DC32     score

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   generate_food
         8   -> rand
       0   snake_get
       0   snake_get_food
       0   snake_get_score
       0   snake_set_direction
       8   snake_setup
         8   -> generate_food
      12   snake_to_grid
      16   snake_update
        16   -> generate_food
        16   -> snake_setup


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable7
       4  ??DataTable7_1
       4  ??DataTable7_2
       4  ??DataTable7_3
       4  direction
       8  food
      44  generate_food
       4  score
     804  snake
       4  snake_get
       4  snake_get_food
       6  snake_get_score
      56  snake_set_direction
      64  snake_setup
     158  snake_to_grid
     282  snake_update

 
 820 bytes in section .bss
 634 bytes in section .text
 
 634 bytes of CODE memory
 820 bytes of DATA memory

Errors: none
Warnings: none
