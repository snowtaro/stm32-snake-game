###############################################################################
#
# IAR ANSI C/C++ Compiler V8.22.1.15669/W32 for ARM       04/Dec/2025  20:11:22
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  C:\Users\pnu7\Desktop\project_test (2)\user\button.c
#    Command line =  
#        -f C:\Users\pnu7\AppData\Local\Temp\EW2930.tmp
#        ("C:\Users\pnu7\Desktop\project_test (2)\user\button.c" -D
#        USE_STDPERIPH_DRIVER -D STM32F10X_CL -lC
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\List" -o
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj" --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M3 -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\INC\c\DLib_Config_Normal.h" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\Startup\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\src\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\libraries\LCD\" -Ol -I
#        "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\CMSIS\Core\Include\" -I "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =  
#        C:\Users\pnu7\Desktop\project_test (2)\Debug\List\button.lst
#    Object file  =  C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj\button.o
#
###############################################################################

C:\Users\pnu7\Desktop\project_test (2)\user\button.c
      1          // button.c
      2          #include "button.h"
      3          
      4          // ?@??@@ @@@@?(?@@??@@@ ?@@)
      5          #define RCC_APB2ENR (*(volatile unsigned int *) (0x40021000 + 0x18))
      6          
      7          #define GPIOA_CRL   (*(volatile unsigned int *) (0x40010800))
      8          #define GPIOA_IDR   (*(volatile unsigned int *) (0x40010808))
      9          
     10          #define GPIOB_CRH   (*(volatile unsigned int *) (0x40010C04))
     11          #define GPIOB_IDR   (*(volatile unsigned int *) (0x40010C08))
     12          
     13          #define GPIOC_CRL   (*(volatile unsigned int *) (0x40011000))
     14          #define GPIOC_CRH   (*(volatile unsigned int *) (0x40011004))
     15          #define GPIOC_IDR   (*(volatile unsigned int *) (0x40011008))
     16          
     17          #define GPIOD_CRL   (*(volatile unsigned int *) (0x40011400))
     18          #define GPIOD_BSRR  (*(volatile unsigned int *) (0x40011410))
     19          
     20          // ?@????@@: RCC @??@@ ?@@

   \                                 In section .text, align 2, keep-with-next
     21          static void RCCEnable(void)
     22          {
     23              RCC_APB2ENR |= 0x00000004;   // PA
   \                     RCCEnable: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable2  ;; 0x40021018
   \   00000002   0x6800             LDR      R0,[R0, #+0]
   \   00000004   0xF050 0x0004      ORRS     R0,R0,#0x4
   \   00000008   0x....             LDR.N    R1,??DataTable2  ;; 0x40021018
   \   0000000A   0x6008             STR      R0,[R1, #+0]
     24              RCC_APB2ENR |= 0x00000008;   // PB
   \   0000000C   0x....             LDR.N    R0,??DataTable2  ;; 0x40021018
   \   0000000E   0x6800             LDR      R0,[R0, #+0]
   \   00000010   0xF050 0x0008      ORRS     R0,R0,#0x8
   \   00000014   0x....             LDR.N    R1,??DataTable2  ;; 0x40021018
   \   00000016   0x6008             STR      R0,[R1, #+0]
     25              RCC_APB2ENR |= 0x00000010;   // PC
   \   00000018   0x....             LDR.N    R0,??DataTable2  ;; 0x40021018
   \   0000001A   0x6800             LDR      R0,[R0, #+0]
   \   0000001C   0xF050 0x0010      ORRS     R0,R0,#0x10
   \   00000020   0x....             LDR.N    R1,??DataTable2  ;; 0x40021018
   \   00000022   0x6008             STR      R0,[R1, #+0]
     26              RCC_APB2ENR |= 0x00000020;   // PD
   \   00000024   0x....             LDR.N    R0,??DataTable2  ;; 0x40021018
   \   00000026   0x6800             LDR      R0,[R0, #+0]
   \   00000028   0xF050 0x0020      ORRS     R0,R0,#0x20
   \   0000002C   0x....             LDR.N    R1,??DataTable2  ;; 0x40021018
   \   0000002E   0x6008             STR      R0,[R1, #+0]
     27          }
   \   00000030   0x4770             BX       LR               ;; return
     28          

   \                                 In section .text, align 2, keep-with-next
     29          static void PortConfiguration(void)
     30          {
     31              // PC4 (Input with pull-up / pull-down) (KEY1 - UP)
     32              GPIOC_CRL &= 0xFFF0FFFF;
   \                     PortConfiguration: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable2_1  ;; 0x40011000
   \   00000002   0x6800             LDR      R0,[R0, #+0]
   \   00000004   0xF430 0x2070      BICS     R0,R0,#0xF0000
   \   00000008   0x....             LDR.N    R1,??DataTable2_1  ;; 0x40011000
   \   0000000A   0x6008             STR      R0,[R1, #+0]
     33              GPIOC_CRL |= 0x00080000;
   \   0000000C   0x....             LDR.N    R0,??DataTable2_1  ;; 0x40011000
   \   0000000E   0x6800             LDR      R0,[R0, #+0]
   \   00000010   0xF450 0x2000      ORRS     R0,R0,#0x80000
   \   00000014   0x....             LDR.N    R1,??DataTable2_1  ;; 0x40011000
   \   00000016   0x6008             STR      R0,[R1, #+0]
     34          
     35              // PB10 (Input with pull-up / pull-down) (KEY2 - DOWN)
     36              GPIOB_CRH &= 0xFFFFF0FF;
   \   00000018   0x....             LDR.N    R0,??DataTable2_2  ;; 0x40010c04
   \   0000001A   0x6800             LDR      R0,[R0, #+0]
   \   0000001C   0xF430 0x6070      BICS     R0,R0,#0xF00
   \   00000020   0x....             LDR.N    R1,??DataTable2_2  ;; 0x40010c04
   \   00000022   0x6008             STR      R0,[R1, #+0]
     37              GPIOB_CRH |= 0x00000800;
   \   00000024   0x....             LDR.N    R0,??DataTable2_2  ;; 0x40010c04
   \   00000026   0x6800             LDR      R0,[R0, #+0]
   \   00000028   0xF450 0x6000      ORRS     R0,R0,#0x800
   \   0000002C   0x....             LDR.N    R1,??DataTable2_2  ;; 0x40010c04
   \   0000002E   0x6008             STR      R0,[R1, #+0]
     38          
     39              // PC13 (Input with pull-up / pull-down) (KEY3 - LEFT)
     40              GPIOC_CRH &= 0xFF0FFFFF;
   \   00000030   0x....             LDR.N    R0,??DataTable2_3  ;; 0x40011004
   \   00000032   0x6800             LDR      R0,[R0, #+0]
   \   00000034   0xF430 0x0070      BICS     R0,R0,#0xF00000
   \   00000038   0x....             LDR.N    R1,??DataTable2_3  ;; 0x40011004
   \   0000003A   0x6008             STR      R0,[R1, #+0]
     41              GPIOC_CRH |= 0x00800000;
   \   0000003C   0x....             LDR.N    R0,??DataTable2_3  ;; 0x40011004
   \   0000003E   0x6800             LDR      R0,[R0, #+0]
   \   00000040   0xF450 0x0000      ORRS     R0,R0,#0x800000
   \   00000044   0x....             LDR.N    R1,??DataTable2_3  ;; 0x40011004
   \   00000046   0x6008             STR      R0,[R1, #+0]
     42          
     43              // PA0 (Input with pull-up / pull-down) (KEY4 - RIGHT)
     44              GPIOA_CRL &= 0xFFFFFFF0;
   \   00000048   0x....             LDR.N    R0,??DataTable2_4  ;; 0x40010800
   \   0000004A   0x6800             LDR      R0,[R0, #+0]
   \   0000004C   0x0900             LSRS     R0,R0,#+4
   \   0000004E   0x0100             LSLS     R0,R0,#+4
   \   00000050   0x....             LDR.N    R1,??DataTable2_4  ;; 0x40010800
   \   00000052   0x6008             STR      R0,[R1, #+0]
     45              GPIOA_CRL |= 0x00000008;
   \   00000054   0x....             LDR.N    R0,??DataTable2_4  ;; 0x40010800
   \   00000056   0x6800             LDR      R0,[R0, #+0]
   \   00000058   0xF050 0x0008      ORRS     R0,R0,#0x8
   \   0000005C   0x....             LDR.N    R1,??DataTable2_4  ;; 0x40010800
   \   0000005E   0x6008             STR      R0,[R1, #+0]
     46          
     47              // PD2, PD3, PD4, PD7 (LED @@@ ?@@ - ?@@ ??@@?@??@?)
     48              GPIOD_CRL &= 0xFFFFF0FF;
   \   00000060   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   00000062   0x6800             LDR      R0,[R0, #+0]
   \   00000064   0xF430 0x6070      BICS     R0,R0,#0xF00
   \   00000068   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   0000006A   0x6008             STR      R0,[R1, #+0]
     49              GPIOD_CRL |= 0x00000300;     // PD2
   \   0000006C   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   0000006E   0x6800             LDR      R0,[R0, #+0]
   \   00000070   0xF450 0x7040      ORRS     R0,R0,#0x300
   \   00000074   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   00000076   0x6008             STR      R0,[R1, #+0]
     50          
     51              GPIOD_CRL &= 0xFFFF0FFF;
   \   00000078   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   0000007A   0x6800             LDR      R0,[R0, #+0]
   \   0000007C   0xF430 0x4070      BICS     R0,R0,#0xF000
   \   00000080   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   00000082   0x6008             STR      R0,[R1, #+0]
     52              GPIOD_CRL |= 0x00003000;     // PD3
   \   00000084   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   00000086   0x6800             LDR      R0,[R0, #+0]
   \   00000088   0xF450 0x5040      ORRS     R0,R0,#0x3000
   \   0000008C   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   0000008E   0x6008             STR      R0,[R1, #+0]
     53          
     54              GPIOD_CRL &= 0xFFF0FFFF;
   \   00000090   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   00000092   0x6800             LDR      R0,[R0, #+0]
   \   00000094   0xF430 0x2070      BICS     R0,R0,#0xF0000
   \   00000098   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   0000009A   0x6008             STR      R0,[R1, #+0]
     55              GPIOD_CRL |= 0x00030000;     // PD4
   \   0000009C   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   0000009E   0x6800             LDR      R0,[R0, #+0]
   \   000000A0   0xF450 0x3040      ORRS     R0,R0,#0x30000
   \   000000A4   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   000000A6   0x6008             STR      R0,[R1, #+0]
     56          
     57              GPIOD_CRL &= 0x0FFFFFFF;
   \   000000A8   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   000000AA   0x6800             LDR      R0,[R0, #+0]
   \   000000AC   0xF020 0x4070      BIC      R0,R0,#0xF0000000
   \   000000B0   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   000000B2   0x6008             STR      R0,[R1, #+0]
     58              GPIOD_CRL |= 0x30000000;     // PD7
   \   000000B4   0x....             LDR.N    R0,??DataTable2_5  ;; 0x40011400
   \   000000B6   0x6800             LDR      R0,[R0, #+0]
   \   000000B8   0xF050 0x5040      ORRS     R0,R0,#0x30000000
   \   000000BC   0x....             LDR.N    R1,??DataTable2_5  ;; 0x40011400
   \   000000BE   0x6008             STR      R0,[R1, #+0]
     59          
     60              // LED OFF
     61              GPIOD_BSRR |= 0x0000009C;
   \   000000C0   0x....             LDR.N    R0,??DataTable2_6  ;; 0x40011410
   \   000000C2   0x6800             LDR      R0,[R0, #+0]
   \   000000C4   0xF050 0x009C      ORRS     R0,R0,#0x9C
   \   000000C8   0x....             LDR.N    R1,??DataTable2_6  ;; 0x40011410
   \   000000CA   0x6008             STR      R0,[R1, #+0]
     62          }
   \   000000CC   0x4770             BX       LR               ;; return
     63          

   \                                 In section .text, align 2, keep-with-next
     64          void Button_Init(void)
     65          {
   \                     Button_Init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     66              RCCEnable();
   \   00000002   0x.... 0x....      BL       RCCEnable
     67              PortConfiguration();
   \   00000006   0x.... 0x....      BL       PortConfiguration
     68          }
   \   0000000A   0xBD01             POP      {R0,PC}          ;; return
     69          
     70          // ???@@ ?@@: ?@@@?LOW @@?

   \                                 In section .text, align 2, keep-with-next
     71          KeyInput Button_GetInput(void)
     72          {
     73              // KEY1 (PC4) ???
     74              if (!(GPIOC_IDR & 0x00000010)) {
   \                     Button_GetInput: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable2_7  ;; 0x40011008
   \   00000002   0x6800             LDR      R0,[R0, #+0]
   \   00000004   0x06C0             LSLS     R0,R0,#+27
   \   00000006   0xD401             BMI.N    ??Button_GetInput_0
     75                  return KEY_UP;
   \   00000008   0x2001             MOVS     R0,#+1
   \   0000000A   0xE012             B.N      ??Button_GetInput_1
     76              }
     77              // KEY2 (PB10) ???@@
     78              if (!(GPIOB_IDR & 0x00000400)) {
   \                     ??Button_GetInput_0: (+1)
   \   0000000C   0x....             LDR.N    R0,??DataTable2_8  ;; 0x40010c08
   \   0000000E   0x6800             LDR      R0,[R0, #+0]
   \   00000010   0x0540             LSLS     R0,R0,#+21
   \   00000012   0xD401             BMI.N    ??Button_GetInput_2
     79                  return KEY_DOWN;
   \   00000014   0x2002             MOVS     R0,#+2
   \   00000016   0xE00C             B.N      ??Button_GetInput_1
     80              }
     81              // KEY3 (PC13) ???@@
     82              if (!(GPIOC_IDR & 0x00002000)) {
   \                     ??Button_GetInput_2: (+1)
   \   00000018   0x....             LDR.N    R0,??DataTable2_7  ;; 0x40011008
   \   0000001A   0x6800             LDR      R0,[R0, #+0]
   \   0000001C   0x0480             LSLS     R0,R0,#+18
   \   0000001E   0xD401             BMI.N    ??Button_GetInput_3
     83                  return KEY_LEFT;
   \   00000020   0x2003             MOVS     R0,#+3
   \   00000022   0xE006             B.N      ??Button_GetInput_1
     84              }
     85              // KEY4 (PA0) ???@@@
     86              if (!(GPIOA_IDR & 0x00000001)) {
   \                     ??Button_GetInput_3: (+1)
   \   00000024   0x....             LDR.N    R0,??DataTable2_9  ;; 0x40010808
   \   00000026   0x6800             LDR      R0,[R0, #+0]
   \   00000028   0x07C0             LSLS     R0,R0,#+31
   \   0000002A   0xD401             BMI.N    ??Button_GetInput_4
     87                  return KEY_RIGHT;
   \   0000002C   0x2004             MOVS     R0,#+4
   \   0000002E   0xE000             B.N      ??Button_GetInput_1
     88              }
     89          
     90              return KEY_NONE;
   \                     ??Button_GetInput_4: (+1)
   \   00000030   0x2000             MOVS     R0,#+0
   \                     ??Button_GetInput_1: (+1)
   \   00000032   0x4770             BX       LR               ;; return
     91          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   0x40021018         DC32     0x40021018

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_1:
   \   00000000   0x40011000         DC32     0x40011000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_2:
   \   00000000   0x40010C04         DC32     0x40010c04

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_3:
   \   00000000   0x40011004         DC32     0x40011004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_4:
   \   00000000   0x40010800         DC32     0x40010800

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_5:
   \   00000000   0x40011400         DC32     0x40011400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_6:
   \   00000000   0x40011410         DC32     0x40011410

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_7:
   \   00000000   0x40011008         DC32     0x40011008

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_8:
   \   00000000   0x40010C08         DC32     0x40010c08

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_9:
   \   00000000   0x40010808         DC32     0x40010808

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   Button_GetInput
       8   Button_Init
         8   -> PortConfiguration
         8   -> RCCEnable
       0   PortConfiguration
       0   RCCEnable


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable2
       4  ??DataTable2_1
       4  ??DataTable2_2
       4  ??DataTable2_3
       4  ??DataTable2_4
       4  ??DataTable2_5
       4  ??DataTable2_6
       4  ??DataTable2_7
       4  ??DataTable2_8
       4  ??DataTable2_9
      52  Button_GetInput
      12  Button_Init
     206  PortConfiguration
      50  RCCEnable

 
 360 bytes in section .text
 
 360 bytes of CODE memory

Errors: none
Warnings: none
