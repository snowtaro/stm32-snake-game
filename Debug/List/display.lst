###############################################################################
#
# IAR ANSI C/C++ Compiler V8.22.1.15669/W32 for ARM       04/Dec/2025  20:53:12
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  C:\Users\pnu7\Desktop\project_test (2)\user\display.c
#    Command line =  
#        -f C:\Users\pnu7\AppData\Local\Temp\EW73D0.tmp
#        ("C:\Users\pnu7\Desktop\project_test (2)\user\display.c" -D
#        USE_STDPERIPH_DRIVER -D STM32F10X_CL -lC
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\List" -o
#        "C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj" --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=Cortex-M3 -e --fpu=None
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\INC\c\DLib_Config_Normal.h" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\CMSIS\DeviceSupport\Startup\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test
#        (2)\libraries\STM32F10x_StdPeriph_Driver_v3.5\src\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\user\inc\" -I
#        "C:\Users\pnu7\Desktop\project_test (2)\libraries\LCD\" -Ol -I
#        "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.0\arm\CMSIS\Core\Include\" -I "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\arm\CMSIS\DSP\Include\")
#    Locale       =  C
#    List file    =  
#        C:\Users\pnu7\Desktop\project_test (2)\Debug\List\display.lst
#    Object file  =  C:\Users\pnu7\Desktop\project_test (2)\Debug\Obj\display.o
#
###############################################################################

C:\Users\pnu7\Desktop\project_test (2)\user\display.c
      1          // display.c
      2          #include "display.h"
      3          
      4          #define BASE_X      10   // @@@ ?@@
      5          #define BASE_Y      10   // ?@@ ?@@
      6          #define CELL_W      10   // @€@?@@@ (?@?)
      7          #define CELL_H      12   // ?@@ @@@ (?@?)
      8          

   \                                 In section .text, align 2, keep-with-next
      9          void Display_Init(void)
     10          {
   \                     Display_Init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     11              LCD_Init();
   \   00000002   0x.... 0x....      BL       LCD_Init
     12              LCD_Clear(WHITE);
   \   00000006   0xF64F 0x70FF      MOVW     R0,#+65535
   \   0000000A   0x.... 0x....      BL       LCD_Clear
     13          }
   \   0000000E   0xBD01             POP      {R0,PC}          ;; return
     14          

   \                                 In section .text, align 2, keep-with-next
     15          void Display_DrawGrid(char grid[GRID_ROWS][GRID_COLS])
     16          {
   \                     Display_DrawGrid: (+1)
   \   00000000   0xB57C             PUSH     {R2-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
     17              LCD_Clear(WHITE);
   \   00000004   0xF64F 0x70FF      MOVW     R0,#+65535
   \   00000008   0x.... 0x....      BL       LCD_Clear
     18          
     19              for (int y = 0; y < GRID_ROWS; y++) {
   \   0000000C   0x2500             MOVS     R5,#+0
   \   0000000E   0xE000             B.N      ??Display_DrawGrid_0
   \                     ??Display_DrawGrid_1: (+1)
   \   00000010   0x1C6D             ADDS     R5,R5,#+1
   \                     ??Display_DrawGrid_0: (+1)
   \   00000012   0x2D14             CMP      R5,#+20
   \   00000014   0xDA28             BGE.N    ??Display_DrawGrid_2
     20                  for (int x = 0; x < GRID_COLS; x++) {
   \   00000016   0x2600             MOVS     R6,#+0
   \                     ??Display_DrawGrid_3: (+1)
   \   00000018   0x2E14             CMP      R6,#+20
   \   0000001A   0xDAF9             BGE.N    ??Display_DrawGrid_1
     21                      char ch = grid[y][x];
   \   0000001C   0x2014             MOVS     R0,#+20
   \   0000001E   0xFB00 0xF005      MUL      R0,R0,R5
   \   00000022   0x4420             ADD      R0,R4,R0
   \   00000024   0x5D81             LDRB     R1,[R0, R6]
     22          
     23                      // @@@?€ @@@ ?@@
     24                      if (ch == ' ' || ch == '\0')
   \   00000026   0x0008             MOVS     R0,R1
   \   00000028   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000002A   0x2820             CMP      R0,#+32
   \   0000002C   0xD01A             BEQ.N    ??Display_DrawGrid_4
   \   0000002E   0x0008             MOVS     R0,R1
   \   00000030   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000032   0x2800             CMP      R0,#+0
   \   00000034   0xD016             BEQ.N    ??Display_DrawGrid_4
     25                          continue;
     26          
     27                      char buf[2] = { ch, '\0' };
   \                     ??Display_DrawGrid_5: (+1)
   \   00000036   0x2000             MOVS     R0,#+0
   \   00000038   0xF8AD 0x0004      STRH     R0,[SP, #+4]
   \   0000003C   0xF88D 0x1004      STRB     R1,[SP, #+4]
     28                      int px = BASE_X + x * CELL_W;
   \   00000040   0x200A             MOVS     R0,#+10
   \   00000042   0xFB00 0xF006      MUL      R0,R0,R6
   \   00000046   0x300A             ADDS     R0,R0,#+10
     29                      int py = BASE_Y + y * CELL_H;
   \   00000048   0x210C             MOVS     R1,#+12
   \   0000004A   0xFB01 0xF105      MUL      R1,R1,R5
   \   0000004E   0x310A             ADDS     R1,R1,#+10
     30          
     31                      LCD_ShowString(px, py, buf, BLACK, WHITE);
                                                    ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "u8 *"
   \   00000050   0xF64F 0x72FF      MOVW     R2,#+65535
   \   00000054   0x9200             STR      R2,[SP, #+0]
   \   00000056   0x2300             MOVS     R3,#+0
   \   00000058   0xAA01             ADD      R2,SP,#+4
   \   0000005A   0xB289             UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   0000005C   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \   0000005E   0x.... 0x....      BL       LCD_ShowString
   \   00000062   0xE7FF             B.N      ??Display_DrawGrid_6
     32                  }
   \                     ??Display_DrawGrid_4: (+1)
   \                     ??Display_DrawGrid_6: (+1)
   \   00000064   0x1C76             ADDS     R6,R6,#+1
   \   00000066   0xE7D7             B.N      ??Display_DrawGrid_3
     33              }
     34          
     35              // ?@@ ??@@? ?@@ @@@ ?@@ (?@@@?
     36              // char scoreStr[16];
     37              // sprintf(scoreStr, "Score:%d", snake_get_score());
     38              // LCD_ShowString(10, BASE_Y + GRID_ROWS * CELL_H + 5, scoreStr, BLUE, WHITE);
     39          }
   \                     ??Display_DrawGrid_2: (+1)
   \   00000068   0xBD73             POP      {R0,R1,R4-R6,PC}  ;; return

   \                                 In section .rodata, align 2
   \   00000000   0x00 0x00          DC8 0, 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      24   Display_DrawGrid
        24   -> LCD_Clear
        24   -> LCD_ShowString
       8   Display_Init
         8   -> LCD_Clear
         8   -> LCD_Init


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       2  ?_0
     106  Display_DrawGrid
      16  Display_Init

 
   2 bytes in section .rodata
 122 bytes in section .text
 
 122 bytes of CODE  memory
   2 bytes of CONST memory

Errors: none
Warnings: 1
